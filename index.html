<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETI - Erradicación del Trabajo Infantil Ambato</title>
    
    <!-- FUENTES E ICONOS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- TU HOJA DE ESTILOS -->
    <link rel="stylesheet" href="styles.css?v=1.0.1">
</head>
<body>
    <!-- LOADER DE CARGA -->
    <div id="page-loader" class="loader-wrapper hidden">
        <div class="loader">Conectando con ETI
            <span></span>
        </div>
    </div>

    <!-- ENCABEZADO -->
    <header class="main-header">
        <div class="header-content">
            <!-- Logo -->
            <div class="logo" data-section="home" role="button" tabindex="0">
                <div class="logo-icon">
                    <i class="fas fa-hands-holding-child"></i>
                </div>
                <div class="logo-text">
                    <h1>ETI</h1>
                    <p>Ambato sin Trabajo Infantil</p>
                </div>
            </div>

            <!-- Navegación Escritorio -->
            <nav class="desktop-nav">
                <ul>
                    <li><button data-section="home">Inicio</button></li>
                    <li><button data-section="problem">Problemática</button></li>
                    <li><button data-section="resources">Recursos</button></li>
                    <li><button data-section="shop">Tienda</button></li>
                    <li><button data-section="report" class="btn-nav-highlight">Denunciar</button></li>
                </ul>
            </nav>

            <!-- Iconos de Acción -->
            <div class="header-actions">
                <button class="btn-lang">ES / QU</button>
                
                <button data-action="toggle-cart" class="btn-icon cart-btn">
                    <i class="fas fa-box-open"></i>
                    <span id="cart-count">0</span>
                </button>

                <div id="user-auth-container">
                    <button id="auth-btn" data-section="login" class="btn-nav-highlight">Ingresar</button>
                </div>
            </div>
        </div>
        
        <!-- Menú Móvil -->
        <div id="mobile-menu" class="mobile-menu">
            <button data-section="home">Inicio</button>
            <button data-section="problem">Problemática</button>
            <button data-section="shop">Tienda de Donación</button>
            <button data-section="report">Denunciar Caso</button>
        </div>
    </header>

    <!-- BOTÓN FLOTANTE EMERGENCIA -->
    <a href="tel:911" class="fab-emergency" title="Llamar al 911">
        <i class="fas fa-bell"></i>
    </a>

    <!-- CONTENIDO PRINCIPAL -->
    <main>

        <!-- SECCIÓN INICIO -->
        <section id="home-section" class="section hero active">
            <div class="hero-overlay"></div>
            <div class="container hero-content fade-in">
                <span class="badge">Campaña 2025</span>
                <h1 class="hero-title">
                    CAMBIA SU <span class="highlight-text">CONTEXTO</span><br>
                    CAMBIA SU <span class="highlight-text">FUTURO</span>
                </h1>
                <p class="hero-desc">
                    El trabajo infantil vulnera los derechos de miles de niños en Ambato. Erradicarlo es un compromiso urgente.
                </p>
                <div class="hero-buttons">
                    <button data-section="report" class="btn btn-primary">DENUNCIAR AHORA</button>
                    <button data-section="shop" class="btn btn-secondary">DONAR KITS</button>
                </div>
            </div>
        </section>

        <!-- SECCIÓN PROBLEMÁTICA -->
        <section id="problem-section" class="section hidden">
            <div class="container">
                <!-- ¿QUÉ ES TRABAJO INFANTIL? -->
                <div class="problem-block red-bg">
                    <h2>¿QUÉ ES TRABAJO INFANTIL?</h2>
                    <p>El trabajo infantil es cualquier tipo de actividades que afectan su salud, educación o desarrollo. Es una forma de explotación que les roba su infancia y limita sus oportunidades.</p>
                </div>

                <!-- ¿QUÉ ES MENDICIDAD INFANTIL? -->
                <div class="problem-block red-bg">
                    <h2>¿QUÉ ES MENDICIDAD INFANTIL?</h2>
                    <p>La mendicidad infantil es cuando niños y niñas son llevados a pedir dinero en las calles, exponiéndolos a riesgos y privándolos de una vida digna y segura. Erradicarla es esencial para proteger sus derechos</p>
                </div>

                <!-- MITOS vs REALIDAD -->
                <div class="myth-reality-section">
                    <h2 class="section-center-title">Mitos vs Realidad</h2>
                    <p class="section-center-text">Existen muchos mitos que justifican el trabajo infantil, pero la realidad es que afecta la salud, educación y futuro de los niños. Aclarar estas ideas es clave para comprender el problema y combatirlo.</p>
                    
                    <div class="myth-reality-grid">
                        <div class="myth-column">
                            <h3>Mito</h3>
                            <ul>
                                <li>El trabajo es bueno para la familia</li>
                                <li>Trabajar fortalece su carácter.</li>
                                <li>Mientras no sea peligroso, está bien.</li>
                                <li>Los niños prefieren trabajar antes que estudiarA mayoria trabaja por necesidad, no por elección.</li>
                            </ul>
                        </div>
                        <div class="reality-column">
                            <h3>Realidad</h3>
                            <ul>
                                <li>El trabajo infantil perpetúa la pobreza.</li>
                                <li>Los expone a riesgos que afectan su desarrollo.</li>
                                <li>Todo trabajo infantil afecta sus derechos.</li>
                                <li>La mayoría trabaja por necesidad, no por elección.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- DATOS ACTUALES EN AMBATO -->
                <div class="data-section teal-bg">
                    <h2>DATOS ACTUALES EN AMBATO</h2>
                    <p>En Ambato, el trabajo infantil sigue siendo una realidad preocupante. En 2022 se registró un 3.4% de niños trabajando en las calles, y en 2023 se identificaron 982 casos entre trabajo infantil y mendicidad. Parroquias como San Fernando, Santa Rosa, Constantino Fernández y Unamuncho destacan como zonas emisoras. Aunque el MIES continúa con sus programas.</p>
                </div>

                <!-- HISTORIAS ILUSTRADAS TESTIMONIALES -->
                <div class="testimonials-section">
                    <h2>HISTORIAS ILUSTRADAS TESTIMONIALES</h2>
                    <div class="testimonials-grid">
                        <div class="testimonial-card">
                            <p><strong>Mi infancia en algo distinto.</strong></p>
                            <p>Encontré ayuda cuando más la necesitaba.</p>
                        </div>
                        <div class="testimonial-card">
                            <p><strong>Dejar las calles cambió mi futuro.</strong></p>
                            <p>Un pequeño apoyo hizo una gran diferencia.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECCIÓN RECURSOS -->
        <section id="resources-section" class="section hidden">
            <div class="container">
                <div class="section-header">
                    <span class="section-subtitle">Apoyo Integral</span>
                    <h2 class="section-title">Recursos Disponibles en Ambato</h2>
                </div>
                <div class="grid-3">
                    <div class="card-service">
                        <div class="icon-box"><i class="fas fa-home"></i></div>
                        <h4>Centros CDI</h4>
                        <p>Atención y cuidado diario gratuito.</p>
                    </div>
                    <div class="card-service">
                        <div class="icon-box"><i class="fas fa-hand-holding-heart"></i></div>
                        <h4>Programas ETI</h4>
                        <p>Estrategias de erradicación progresiva.</p>
                    </div>
                    <div class="card-service">
                        <div class="icon-box"><i class="fas fa-user-shield"></i></div>
                        <h4>CCPDA</h4>
                        <p>Protección legal de derechos.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECCIÓN TIENDA -->
        <section id="shop-section" class="section hidden">
            <div class="container">
                <div class="section-header">
                    <span class="section-subtitle">Solidaridad Efectiva</span>
                    <h2 class="section-title">Tienda de Donación</h2>
                    <p>Dona un Kit real que llegará a las familias de las zonas rurales prioritarias.</p>
                </div>
                <!-- Grid de Productos (JS lo llena) -->
                <div id="donation-grid" class="grid-3"></div>
            </div>
        </section>

        <!-- SECCIÓN DENUNCIA -->
        <section id="report-section" class="section hidden">
            <div class="container grid-2-start">
                <div class="info-block">
                    <div class="alert-box">
                        <h3><i class="fas fa-phone-volume"></i> Llama al 911</h3>
                        <p>Si ves un riesgo inminente, llama de inmediato. Es anónimo.</p>
                        <a href="tel:911" class="btn btn-white">LLAMAR</a>
                    </div>
                    <h4>Pasos para reportar:</h4>
                    <ul class="steps-list">
                        <li><span class="step-num">1</span> Observa sin riesgo.</li>
                        <li><span class="step-num">2</span> Ubica el lugar exacto.</li>
                        <li><span class="step-num">3</span> Usa el formulario.</li>
                    </ul>
                </div>
                <div class="form-box">
                    <h3>Reporte Digital</h3>
                    <form data-form-type="report">
                        <div class="inputGroup">
                            <input type="text" id="report-loc" placeholder=" " required>
                            <label>Ubicación</label>
                        </div>
                        <div class="inputGroup">
                            <textarea id="report-desc" rows="4" placeholder=" " required></textarea>
                            <label>Descripción - Describe lo que viste...</label>
                        </div>
                        <button type="submit" class="btn btn-primary full-width">ENVIAR REPORTE</button>
                    </form>
                </div>
            </div>
        </section>

        <!-- SECCIÓN REGISTRO -->
        <section id="register-section" class="section hidden center-content">
            <div class="login-card">
                <div class="icon-box large"><i class="fas fa-user-plus"></i></div>
                <h2>Registro de Voluntarios</h2>
                <p>Únete a nuestra comunidad para ayudar</p>
                <form data-form-type="register">
                    <div class="inputGroup">
                        <input type="text" id="register-name" placeholder=" " required>
                        <label>Nombre completo</label>
                    </div>
                    <div class="inputGroup">
                        <input type="email" id="register-email" placeholder=" " required>
                        <label>Correo electrónico</label>
                    </div>
                    <div class="inputGroup">
                        <input type="password" id="register-password" placeholder=" " required>
                        <label>Contraseña (mín. 6 caracteres)</label>
                    </div>
                    <div class="inputGroup">
                        <input type="password" id="register-confirm" placeholder=" " required>
                        <label>Confirmar contraseña</label>
                    </div>
                    <button type="submit" class="btn btn-primary full-width">REGISTRARSE</button>
                </form>
                <p class="login-link">¿Ya tienes cuenta? <button data-section="login" class="link-btn">Inicia sesión aquí</button></p>
                <div id="register-error" class="error-msg hidden">Error de conexión</div>
            </div>
        </section>

        <!-- SECCIÓN LOGIN -->
        <section id="login-section" class="section hidden center-content">
            <div class="login-card">
                <div class="icon-box large"><i class="fas fa-user-shield"></i></div>
                <h2>Acceso Voluntarios</h2>
                <p>Ingresa para gestionar donaciones</p>
                <form data-form-type="login">
                    <div class="inputGroup">
                        <input type="email" placeholder=" " required>
                        <label>Correo electrónico</label>
                    </div>
                    <div class="inputGroup">
                        <input type="password" placeholder=" " required>
                        <label>Contraseña</label>
                    </div>
                    <button type="submit" class="btn btn-primary full-width">ENTRAR</button>
                </form>
                <div class="divider-or">O</div>
                <button onclick="window.handleGoogleSignIn()" class="btn btn-google full-width">
                    <i class="fab fa-google"></i> Inicia sesión con Google
                </button>
                <p class="login-link">¿No tienes cuenta? <button data-section="register" class="link-btn">Regístrate aquí</button></p>
                <div id="login-error" class="error-msg hidden">Error de conexión</div>
            </div>
        </section>

        <!-- SECCIÓN PERFIL DE USUARIO -->
        <section id="profile-section" class="section hidden center-content">
            <div class="login-card">
                <div class="icon-box large"><i class="fas fa-user-circle"></i></div>
                <h2 id="profile-name">Mi Perfil</h2>
                <div class="profile-info">
                    <p><strong>Email:</strong> <span id="profile-email">--</span></p>
                    <p><strong>Estado:</strong> <span id="profile-status">Activo</span></p>
                    <p><strong>Miembro desde:</strong> <span id="profile-date">--</span></p>
                </div>
                <div class="profile-actions">
                    <button onclick="window.showSection('shop')" class="btn btn-primary full-width">Ir a la Tienda</button>
                </div>
            </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer>
        <div class="container footer-content">
            <div class="footer-col">
                <h4>Contactos</h4>
                <p>Dirección: Av. Principal</p>
                <p>Edificio CCPDA</p>
                <p>Teléfono: +593 000 0000</p>
                <p>Correo:</p>
                <p>contacto@campaña.org</p>
            </div>
            <div class="footer-col">
                <h4>Enlaces Rápidos</h4>
                <p>Inicio</p>
                <p>Sobre de la campaña</p>
                <p>Cómo ayudar</p>
                <p>Denunciar casos</p>
                <p>Programas y proyectos</p>
                <p>Co ínfacto</p>
            </div>
            <div class="footer-col">
                <h4>Responsabilidad</h4>
                <p>Protegemos a la niñez porque demostrar es el futuro de la sociedad. Cada acción, cada voz, cada cabeza, ayuda a prevenir el trabajo infantil y a...</p>
            </div>
            <div class="footer-social">
                <a href="#"><i class="fab fa-youtube"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-tiktok"></i></a>
                <a href="#"><i class="fab fa-whatsapp"></i></a>
            </div>
        </div>
        <div class="copyright">&copy; 2025 Campaña por la Niñez. Todos los derechos reservados.<br>Este sitio promueve la defensa, protección y bienestar de los niños y niñas.</div>
    </footer>

    <!-- MODAL CARRITO -->
    <div id="cart-modal" class="modal-overlay hidden">
        <div class="modal-content side-panel">
            <div class="modal-header">
                <h3>Tu Aporte</h3>
                <button data-action="toggle-cart" class="close-btn">&times;</button>
            </div>
            <div id="cart-items" class="modal-body"></div>
            <div class="modal-footer">
                <div class="total-row"><span>Total:</span> <span id="cart-total">$0.00</span></div>
                <button data-action="checkout" class="btn btn-primary full-width">CONFIRMAR</button>
            </div>
        </div>
    </div>

    <!-- MODAL PAGO -->
    <div id="payment-modal" class="modal-overlay hidden">
        <div class="modal-content center-modal" style="max-width: 450px;">
            <h3 style="margin-bottom: 1.5rem;">Datos de Pago</h3>
            
            <form onsubmit="window.processPayment(event)" style="display: flex; flex-direction: column; gap: 1rem;">
                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Titular de la Tarjeta</label>
                    <input type="text" id="card-holder" placeholder="Nombre completo" required 
                        style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 0.5rem;">
                </div>

                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Número de Tarjeta</label>
                    <input type="text" id="card-number" placeholder="1234 5678 9012 3456" maxlength="19" required
                        oninput="this.value = this.value.replace(/\D/g, '').replace(/(\d{4})/g, '$1 ').trim()"
                        style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 0.5rem;">
                </div>

                <div style="display: flex; gap: 1rem; align-items: flex-end;">
                    <div style="flex: 2;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Fecha de Vencimiento</label>
                        <input type="text" id="expiry" placeholder="MM/YY" maxlength="5" required
                            oninput="if(this.value.length === 2) this.value += '/'"
                            style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 0.5rem;">
                    </div>
                    <div style="flex: 1;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">CVV</label>
                        <input type="text" id="cvv" placeholder="123" maxlength="3" required
                            oninput="this.value = this.value.replace(/\D/g, '')"
                            style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 0.5rem;">
                    </div>
                </div>

                <div style="background: #f5f5f5; padding: 1rem; border-radius: 0.5rem; margin-top: 0.5rem;">
                    <p style="margin: 0 0 0.5rem 0; color: #666; font-size: 0.9rem;"><strong>Total a pagar:</strong></p>
                    <p style="margin: 0; font-size: 1.3rem; font-weight: bold; color: var(--color-red);">$<span id="payment-total">0.00</span></p>
                </div>

                <div style="display: flex; gap: 1rem;">
                    <button type="button" onclick="document.getElementById('payment-modal').classList.add('hidden')" 
                        class="btn btn-secondary full-width">CANCELAR</button>
                    <button type="submit" class="btn btn-primary full-width">PAGAR</button>
                </div>
            </form>
        </div>
    </div>

    <!-- MODAL ÉXITO -->
    <div id="success-modal" class="modal-overlay hidden">
        <div class="modal-content center-modal">
            <div class="success-icon"><i class="fas fa-check"></i></div>
            <h3 id="modal-title">¡Gracias!</h3>
            <p id="modal-msg">Acción registrada.</p>
            <button data-action="close-modal" class="btn btn-dark">CERRAR</button>
        </div>
    </div>

    <!-- SCRIPT -->
    <script type="module" src="script.js?v=1.0.1"></script>
    <script type="module" src="firebase.js?v=1.0.1"></script>
</body>
</html>